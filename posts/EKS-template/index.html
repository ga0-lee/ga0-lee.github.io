<!DOCTYPE html><html lang="en" ><head> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2093656452178150" crossorigin="anonymous"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="AWS EKS Worker Node에 Customized된 설정 적용하기" /><meta name="author" content="garit" /><meta property="og:locale" content="en" /><meta name="description" content="AWS EKS Worker Node에 Customized된 설정 적용하기" /><meta property="og:description" content="AWS EKS Worker Node에 Customized된 설정 적용하기" /><link rel="canonical" href="https://ga0-lee.github.io/posts/EKS-template/" /><meta property="og:url" content="https://ga0-lee.github.io/posts/EKS-template/" /><meta property="og:site_name" content="Garit!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-20T10:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="AWS EKS Worker Node에 Customized된 설정 적용하기" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"garit"},"dateModified":"2022-10-20T10:00:00+09:00","datePublished":"2022-10-20T10:00:00+09:00","description":"AWS EKS Worker Node에 Customized된 설정 적용하기","headline":"AWS EKS Worker Node에 Customized된 설정 적용하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://ga0-lee.github.io/posts/EKS-template/"},"url":"https://ga0-lee.github.io/posts/EKS-template/"}</script><title>AWS EKS Worker Node에 Customized된 설정 적용하기 | Garit!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Garit!"><meta name="application-name" content="Garit!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/cotes2020/chirpy-images/main/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Garit!</a></div><div class="site-subtitle font-italic">Record what I understand of</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ga0-lee" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['lleun8956','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>AWS EKS Worker Node에 Customized된 설정 적용하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>AWS EKS Worker Node에 Customized된 설정 적용하기</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1666227600" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 20, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> ga0-lee </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="872 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><h2 id="aws-eks-worker-node에-customized된-설정-적용하기"><span class="mr-2">AWS EKS Worker Node에 Customized된 설정 적용하기</span><a href="#aws-eks-worker-node에-customized된-설정-적용하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="상황"><span class="mr-2">상황</span><a href="#상황" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>push 발송 등으로 인해 동접자 수 증가 대응을 위해 Nignx 기반의 서비스의 worker_conneections 값과 OS 커널 파라미터 수정이 필요하다.</p><blockquote><blockquote><p>즉, EKS Worker Node의 파라미터를 변경해야 한다.</p></blockquote></blockquote><p>[변경할 파라미터 값]</p><ul><li>/etc/sysctl.conf<blockquote><blockquote><p>fs.file-max = 3244429</p></blockquote></blockquote><li>etc/security/limits.conf<blockquote><blockquote><p>ec2-user soft nofile 4096 ec2-user hard nofile 10240</p></blockquote></blockquote></ul><h3 id="eks-node-group-시작템플릿-변경하기"><span class="mr-2">EKS Node Group 시작템플릿 변경하기</span><a href="#eks-node-group-시작템플릿-변경하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><dl><dt>시작템플릿을 변경하는 이유?<dd>Worker Node 내에 Customized된 설정을 적용하기 위해서는 AWS EC2에서 제공하는 UserData라는 기능을 사용하여 인스턴스 시작 시 원하는 명령어가 실행될 수 있도록 해야 한다. 그렇기 때문에 현재 Node Group의 시작템플릿에 UserData를 적용한 새로운 버전의 템플릿으로 업데이트하거나 템플릿 자체를 새로 생성하여 Worker Node를 재생성해야 한다. (1)시작 템플릿 버전 업데이트는 사용자 지정 시작 템플릿을 사용 하였을때만 가능 (2)EKS Optimized AMI를 사용하는 경우 새로운 시작 템플릿을 생성하여 적용</dl><li>나의 경우 (2)에 해당하므로 새로 UserData를 적용한 새로운 시작 템플릿을 생성하였다.</ul><p>[과정]</p><ol><li>새로운 시작 템플릿을 생성한다.<ul><li>EC2 대쉬보드 -&gt; 인스턴스 -&gt; 시작 템플릿 -&gt; 시작 템플릿 생성<li>AMI는 현재 사용 중인 EKS Optimized AMI를 선택 및 나머지 세부 사항은 기존 설정 그대로<li>고급세부정보 -&gt; 사용자 데이터(UserData)에 bootstrap.sh 스크립트가 실행될 수 있도록 필요한 명령어와 함께 입력 -&gt; 생성<li>bootstrap.sh 스크립트가 실행될 수 있도록 입력하는 이유는 생성되는 인스턴스가 EKS 클러스터에 조인되도록 하기 위함이다.</ul></ol><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>MIME-Version: 1.0
Content-Type: multipart/mixed<span class="p">;</span> <span class="nv">boundary</span><span class="o">=</span><span class="s2">"==MYBOUNDARY=="</span>

<span class="nt">--</span><span class="o">==</span><span class="nv">MYBOUNDARY</span><span class="o">==</span>
Content-Type: text/x-shellscript<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span><span class="s2">"us-ascii"</span>

<span class="c">#!/bin/bash</span>

<span class="nb">echo</span> <span class="s1">'fs.file-max = 3244429'</span> <span class="o">&gt;&gt;</span> /etc/sysctl.conf
<span class="nb">echo</span> <span class="s1">'ec2-user  soft  nofile  4096'</span> <span class="o">&gt;&gt;</span> /etc/security/limits.conf
<span class="nb">echo</span> <span class="s1">'ec2-user  hard  nofile  10240'</span> <span class="o">&gt;&gt;</span> /etc/security/limits.conf

<span class="nb">set</span> <span class="nt">-ex</span>
/etc/eks/bootstrap.sh <span class="o">{</span>클러스터 이름<span class="o">}</span> <span class="nt">--apiserver-endpoint</span> <span class="o">{</span>EKS API server endpoint<span class="o">}</span>  <span class="nt">--b64-cluster-ca</span> <span class="o">{</span>Certificate authority<span class="o">}</span>

<span class="nt">--</span><span class="o">==</span><span class="nv">MYBOUNDARY</span><span class="o">==</span><span class="nt">--</span>
</pre></table></code></div></div><ol><li>방금 새로 생성한 시작 템플릿을 사용하는 새로운 노드 그룹을 생성한다.<ul><li>EKS 대쉬보드 -&gt; 클러스터 -&gt; 컴퓨팅 -&gt; 노드 그룹 -&gt; 노드 그룹 추가<li>시작 템플릿 사용 -&gt; 위에서 생성한 시작 템플릿 지정 및 세부 사항 입력 -&gt; 생성</ul><li>새로운 노드 그룹의 노드가 모두 Ready 상태가 된 것을 확인한 후 필요하면 이전 노드 그룹을 삭제한다.<li>적용된 커널 파라미터 확인<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">cat</span> /etc/sysctl.conf
<span class="nb">cat</span> /etc/security/limits.conf
</pre></table></code></div></div></ol><h3 id="주의할-점"><span class="mr-2">주의할 점</span><a href="#주의할-점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Node Group에 적용된 시작 템플릿과 해당 Node Groupd의 AutoScalingGroup(이하 ASG)이 사용하는 시작 템플릿이 별개로 있는데, 변경해야 할 시작 템플릿은 Node Group 대쉬보드에서 바로 보이는 시작 템플릿이고 ASG에 할당된 시작 템플릿은 변경하지 않아야 한다. 왜냐하면 ASG는 Managed Node Group 설정에 따라 EKS에서 자동으로 생성/변경하므로 사용자의 Custom한 변경이 이루어지지 않도록 AWS측에서 권장하기 때문이다.</p><ul><li>참고<ul><li><a href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/eks-optimized-ami.html">https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/eks-optimized-ami.html</a><li><a href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/launch-templates.html#launch-template-custom-ami">https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/launch-templates.html#launch-template-custom-ami</a><li><a href="https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/create-managed-node-group.html">https://docs.aws.amazon.com/ko_kr/eks/latest/userguide/create-managed-node-group.html</a><li><a href="https://aws.amazon.com/ko/premiumsupport/knowledge-center/eks-resolve-node-group-errors-in-cluster/">https://aws.amazon.com/ko/premiumsupport/knowledge-center/eks-resolve-node-group-errors-in-cluster/</a></ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/aws/'>AWS</a>, <a href='/categories/eks/'>EKS</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/eks/" class="post-tag no-text-decoration" >eks</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=AWS+EKS+Worker+Node%EC%97%90+Customized%EB%90%9C+%EC%84%A4%EC%A0%95+%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0+-+Garit%21&url=https%3A%2F%2Fga0-lee.github.io%2Fposts%2FEKS-template%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=AWS+EKS+Worker+Node%EC%97%90+Customized%EB%90%9C+%EC%84%A4%EC%A0%95+%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0+-+Garit%21&u=https%3A%2F%2Fga0-lee.github.io%2Fposts%2FEKS-template%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fga0-lee.github.io%2Fposts%2FEKS-template%2F&text=AWS+EKS+Worker+Node%EC%97%90+Customized%EB%90%9C+%EC%84%A4%EC%A0%95+%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0+-+Garit%21" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/k8s-cp-ownership-error/">kubectl cp 명령어 ownership 에러 해결하기</a><li><a href="/posts/k8s-dashboard/">EKS에 Kubernetes Dashboard 배포하기</a><li><a href="/posts/k8s-java-heap-setting/">Java 기반 Pod에 Heap Memory 설정하기</a><li><a href="/posts/vim-backup-error/">vim 에러 Cannot create backup file(add ! to overwrite) 해결하기</a><li><a href="/posts/k8s-image-pull-error/">K8s Pod 이미지 Pull 에러 해결방안</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/eks/">eks</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/iac/">iac</a> <a class="post-tag" href="/tags/nginx/">nginx</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/argocd/">ArgoCD</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/EKS1/"><div class="card-body"> <em class="small" data-ts="1651801200" data-df="ll" > May 6, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS EKS 구성 No.1(EKS 개념, Bastion Host 구성)</h3><div class="text-muted small"><p> 본 글에서는 AWS에서 제공하는 Kubernetes managed Service인 EKS를 구성하는 방법에 대해 설명하고자 한다. EKS란? Amazon Elastic Kubernetes Service(Amazon EKS)는 클라우드 또는 온프레미스에서 Kubernetes 애플리케이션을 실행하고 크기를 조정하는 관리형 컨테이너 서비스이다. 참고:...</p></div></div></a></div><div class="card"> <a href="/posts/EKS2/"><div class="card-body"> <em class="small" data-ts="1651820400" data-df="ll" > May 6, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>AWS EKS 구성 No.2(AWS IAM 생성,EKS 생성)</h3><div class="text-muted small"><p> 본 글에서는 AWS에서 제공하는 Kubernetes managed Service인 EKS를 구성하는 방법에 대해 설명하고자 한다. AWS IAM 생성 IAM이란? AWS Identity and Access Management(IAM)은 AWS 리소스에 대한 액세스를 안전하게 제어할 수 있는 웹 서비스이다. IAM을 사용하여 리소스를 사용하도록 인...</p></div></div></a></div><div class="card"> <a href="/posts/nlb-sg-rule/"><div class="card-body"> <em class="small" data-ts="1668562800" data-df="ll" > Nov 16, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>EKS Node Group Security Group에 NLB health check용 ingress rule 생성 방지하기</h3><div class="text-muted small"><p> EKS Node Group Security Group에 NLB health check용 ingress rule 생성 방지하기 상황 EKS Node Group의 Security Group을 살펴보던 도중 AWS NLB로 생성한 k8s Service의 NodePort들이 여러 개 생성되어 있는 것을 발견했다. 심지어는 service를 새로 생성했을 때...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/k8s-pending-error/" class="btn btn-outline-primary" prompt="Older"><p>AWS NLB로 배포한 K8s Service가 Pending 상태에서 지워지지 않는 문제</p></a> <a href="/posts/stern/" class="btn btn-outline-primary" prompt="Newer"><p>Stern을 설치하여 k8s pod 로그 쉽게 보기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2093656452178150" crossorigin="anonymous"></script><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ga0-lee">ga0-lee</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/eks/">eks</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/iac/">iac</a> <a class="post-tag" href="/tags/nginx/">nginx</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/argocd/">ArgoCD</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
