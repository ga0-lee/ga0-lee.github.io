<!DOCTYPE html><html lang="en" ><head> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2093656452178150" crossorigin="anonymous"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Garit!" /><meta property="og:locale" content="en" /><meta name="description" content="record, note, archive" /><meta property="og:description" content="record, note, archive" /><link rel="canonical" href="https://ga0-lee.github.io/" /><meta property="og:url" content="https://ga0-lee.github.io/" /><meta property="og:site_name" content="Garit!" /><meta property="og:type" content="website" /><link rel="next" href="https://ga0-lee.github.io/page2" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Garit!" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebSite","description":"record, note, archive","headline":"Garit!","name":"ga0-lee","sameAs":["https://github.com/ga0-lee"],"url":"https://ga0-lee.github.io/"}</script><title>Garit!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Garit!"><meta name="application-name" content="Garit!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/cotes2020/chirpy-images/main/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Garit!</a></div><div class="site-subtitle font-italic">Record what I understand of</div></div><ul class="w-100"><li class="nav-item active"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/ga0-lee" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['lleun8956','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>Home</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Garit!</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="post-list"><div class="post-preview"><h1> <a href="/posts/git-remote-set-url/">기존 git 소스를 새로운 git repo로 복사하기</a></h1><div class="post-content"><p> 기존 git 소스를 새로운 git repo로 복사하기 상황 기존에 쓰던 git 소스를 새로운 repo로 옮겨야 하는 상황이 생겼다. 그래서 git remote 명령어를 통해 옮겨보고자 한다. 해결 방법 아래와 같이 git 명령어를 통해 a-repo에 있던 모든 소스를 b-repo로 옮긴다. # a-repo를 clone한 dir로...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669683600" data-df="ll" > Nov 29, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Git, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/k8s-ic-use-forwarded-header/">Nginx Ingress Controller에서 Client IP 유지하게 설정하기</a></h1><div class="post-content"><p> Nginx Ingress Controller에서 Client IP 유지하게 설정하기 상황 http_x_forwarded_for 헤더 값으로 Client IP를 받아와 사용하는 로직이 있는 서비스가 있다. 그런데 Client IP가 Ingress Controller를 거치면서 http_x_forwarded_for 헤더 값이 Ingress Cont...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669597200" data-df="ll" > Nov 28, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Kubernetes, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/k8s-cp-ownership-error/">kubectl cp 명령어 ownership 에러 해결하기</a></h1><div class="post-content"><p> kubectl cp 명령어 ownership 에러 해결하기 상황 kubectl cp 명령어로 bastion host에 있는 파일을 pod에 마운트 되어있는 file system 디렉토리로 복사할 때 다음과 같은 에러가 발생했다. 에러 내용 tar: 파일명: Cannot change ownership to uid xxx...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669510800" data-df="ll" > Nov 27, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Kubernetes, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/terraform-private-network/">폐쇄망에서 terraform 사용하기</a></h1><div class="post-content"><p> 폐쇄망에서 terraform 사용하기 상황 폐쇄망에서 Terraform으로 AWS에 인프라를 구성하려고 하니 아래와 같이 terraform 공식 registry에 접속할 수 없어 에러가 발생한다. 그러므로 필요한 provider 패키지 바이너리 파일을 직접 다운 받아 로컬에 저장해놓고 terraform을 실행할 수 있게 해야 한다. AW...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669428000" data-df="ll" > Nov 26, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Terraform, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/nginx-if/">Nginx if문 사용하기</a></h1><div class="post-content"><p> Nginx if문 사용하기 상황 특정 키워드가 포함된 요청을 다른 url로 proxy pass 하거나 401, 403과 같은 에러를 발생하게 해달라는 요청이 있었다. nginx.conf에 if문을 사용하면 위와 같이 특정 상황에 대한 처리를 다르게 할 수 있다. nginx.conf에 if문 설정 방법 test라는 키워드가 포함된 ur...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669341600" data-df="ll" > Nov 25, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Nginx, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/k8s-oom-heap-dump/">Java Pod에 OOM 발생시 Heap Dump 생성하는 설정하기</a></h1><div class="post-content"><p> Java Pod에 OOM 발생시 Heap Dump 생성하는 설정하기 상황 Java 기반의 Pod가 OOM이 발생하여 재생성 되었는데 이유가 무엇인지 확인할 수 없어 OOM killed 되었을 때 Heap Dump를 생성하는 옵션을 설정하고자 한다. 설정 방법 Pod 및 ConfigMap 설정 apiVersion: apps/v1 ki...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669255200" data-df="ll" > Nov 24, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Kubernetes, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/aws-os-timezone/">AWS Opensearch Timezone 설정하기</a></h1><div class="post-content"><p> AWS Opensearch Timezone 설정하기 상황 AWS Opensearch를 사용하여 EKS 로그를 수집하고 Opensearch Dashboard를 통해 로그를 모니터링 한다. 그러나 Opensearch Dashboard에서 로그를 확인하면 @timestamp가 Table 형식에서는 KST로 출력되고, JSON 형식에서는 UTC로 출력...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669165200" data-df="ll" > Nov 23, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> AWS, Opensearch </span></div></div></div><div class="post-preview"><h1> <a href="/posts/eks-workernode-ami/">EKS 기존 노드로 AMI를 생성하여 새로운 노드그룹 생성하기</a></h1><div class="post-content"><p> EKS 기존 노드로 AMI를 생성하여 새로운 노드그룹 생성하기 상황 AWS EKS를 사용하던 중 기존 노드(인스턴스)에 설치된 솔루션 및 설정들을 그대로 새 노드에 적용해야 하는 일이 생겼다. 애초에 노드 그룹을 생성할 때 템플릿에 필요한 설정들을 다 넣어놨으면 좋았겠지만, 중간에 추가된 것들이라 기존 노드로 이미지(ami)를 만들어서 새 노드...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1669078800" data-df="ll" > Nov 22, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> AWS, EKS </span></div></div></div><div class="post-preview"><h1> <a href="/posts/k8s-java-heap-setting/">Java 기반 Pod에 Heap Memory 설정하기</a></h1><div class="post-content"><p> Java 기반 Pod에 Heap Memory 설정하기 상황 성능테스트를 하던 도중 원하는 목표치에 도달하기도 전에 OOM(Out of Memory) 에러가 발생하여 Java 기반의 Pod의 Heap 사이즈를 변경해달라는 요청을 받아 변경하려 한다. 해결 방법 아래와 같이 java 실행 명령어에 HEAP_OPT 값을 주어 app.jar를 실행시...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1668992400" data-df="ll" > Nov 21, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Kubernetes, Cases </span></div></div></div><div class="post-preview"><h1> <a href="/posts/k8s-pod-tz-setting/">K8s Pod에 Time Zone 설정하기</a></h1><div class="post-content"><p> K8s Pod에 Time Zone 설정하기 상황 생성된 Pod의 로그를 kubectl logs 명령어로 확인하면 로그가 찍히는 시간이 현재 시간과 달라 에러를 디버깅할 때 어려움이 생겼다. 그래서 Pod에 접속하여 /etc/localtime 을 확인해보니 UTC로 되어있었다. 해결방안 Pod에 Time Zone을 설정해서 한국 표준 시간으로 ...</p></div><div class="post-meta text-muted d-flex"><div class="mr-auto"> <i class="far fa-calendar fa-fw"></i> <em class="" data-ts="1668911400" data-df="ll" > Nov 20, 2022 </em> <i class="far fa-folder-open fa-fw"></i> <span> Kubernetes, Cases </span></div></div></div></div><ul class="pagination align-items-center mt-4 mb-0 pl-lg-2"><li class="page-item disabled"> <a class="page-link btn-box-shadow" href="#" aria-label="previous-page"> <i class="fas fa-angle-left"></i> </a><li class="page-item active"> <a class="page-link btn-box-shadow" href="/">1</a><li class="page-item "> <a class="page-link btn-box-shadow" href="/page2">2</a><li class="page-item "> <a class="page-link btn-box-shadow" href="/page3">3</a><li class="page-item "> <a class="page-link btn-box-shadow" href="/page4">4</a><li class="page-index align-middle"> <span>1</span> <span class="text-muted">/ 4</span><li class="page-item "> <a class="page-link btn-box-shadow" href="/page2" aria-label="next-page"> <i class="fas fa-angle-right"></i> </a></ul></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/k8s-cp-ownership-error/">kubectl cp 명령어 ownership 에러 해결하기</a><li><a href="/posts/k8s-dashboard/">EKS에 Kubernetes Dashboard 배포하기</a><li><a href="/posts/k8s-java-heap-setting/">Java 기반 Pod에 Heap Memory 설정하기</a><li><a href="/posts/vim-backup-error/">vim 에러 Cannot create backup file(add ! to overwrite) 해결하기</a><li><a href="/posts/k8s-image-pull-error/">K8s Pod 이미지 Pull 에러 해결방안</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/eks/">eks</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/iac/">iac</a> <a class="post-tag" href="/tags/nginx/">nginx</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/argocd/">ArgoCD</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div></div></div><footer class="d-flex w-100 justify-content-center"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2093656452178150" crossorigin="anonymous"></script><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/ga0-lee">ga0-lee</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/eks/">eks</a> <a class="post-tag" href="/tags/terraform/">terraform</a> <a class="post-tag" href="/tags/iac/">iac</a> <a class="post-tag" href="/tags/nginx/">nginx</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/argocd/">ArgoCD</a> <a class="post-tag" href="/tags/aws/">AWS</a> <a class="post-tag" href="/tags/docker/">docker</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/home.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
